<!-- Header -->
<section class="header col-sm-9 col-md-10">
  <h6 class="body-text title text-muted">
    {{ title }}
  </h6>
  <div class="header-actions">
    <li class="dropdown">
          <a href="#" class="dropdown-toggle body-text" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Filter
            <i class="glyphicon glyphicon-triangle-bottom"></i>
          </a>
          <ul class="dropdown-menu">
            <li><a href="#">Affiliation</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#">Form Name</a></li>
          </ul>
        </li>
    <div class="search">
      <input type="text" class="form-control" placeholder="Search" ngModel="query" (keyup)="filter()" id="listSearch">
      <i class="fa fa-search fa-1x" aria-hidden="true"></i>
    </div>
  </div>
</section>

<!-- MAIN BODY -->
<section class="main-body col-sm-9 col-sm-offset-3 col-md-10">
  <div class="list-filters col-sm-12 col-md-12">
    <h4 class="label-text">
      User
      <i (click)="userSort()" class="glyphicon bottom {{userSorted}}"></i>
    </h4>
    <h4 class="label-text">
      Auth ID
      <i (click)="authSort()" class="glyphicon bottom {{authSorted}}"></i>
    </h4>
    <h4 class="label-text">
      Form Name
      <i (click)="formSort()" class="glyphicon bottom {{formSorted}}"></i>
    </h4>
    <h4 class="label-text">
      Win Handle
      <i (click)="winSort()" class="glyphicon bottom {{winSorted}}"></i>
    </h4>
  </div>
  <div class="lock-list">
    <!-- *ngFor="#lock of locked; #i=index"-->
    <div class="panel panel-default col-sm-10" *ngFor="let lock of locked">
      <div>
        <input type="checkbox" ngModel="lock.checked" (change)="openModal($event, lock)" class="check" id="{{lock.ID}}">
        <label for="{{lock.ID}}" class="check-label"></label>
        <h3 class="card-text name" ngModel="lock.name">{{lock.User}}</h3>
        <h3 class="card-text auth" ngModel="lock.auth">{{lock.AuthID}}</h3>
        <h3 class="card-text form" ngModel="lock.form">{{lock.FormName}}</h3>
        <h3 class="card-text win" ngModel="lock.win">{{lock.WinHandle}}</h3>
      </div>
    </div>
  </div>
</section>
<!-- MODAL -->
<div class="{{ isModal }} col-sm-11">
  <div class="modal-content">
    <h3 class="body-text">({{unlocked.length}}) Selected</h3>
    <div class="buttons">
      <button class="btn-tertiary" (click)="cancel()">Cancel</button>
      <button class="btn-primary" data-toggle="modal" data-target="#myModal">Unlock</button>
    </div>
  </div>
</div>
<!-- ALERT -->
<div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-body">
    <div class="modal-title">
      <h1 class="modal-title">Unlock Request</h1>
    </div>
    <div class="modal-body-content">
      <h3 class="modal-body-text">Are you sure you want to unlock ({{unlocked.length}}) record(s)?</h3>
      <div class="btn-group">
        <button class="btn-secondary" data-toggle="modal" data-target="#myModal">
          Cancel
        </button>
        <button class="btn-primary" (click)="unlock()">
          Yes
        </button>
      </div>
    </div>
  </div>
</div>
